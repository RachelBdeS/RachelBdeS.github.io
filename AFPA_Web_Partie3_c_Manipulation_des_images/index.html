<!DOCTYPE html>
  <html lang="fr-fr">
  
  <head>
    <meta charset="utf-8">
    <link href="./css/AFPA_Web_Partie3_c.css" rel="stylesheet">
    <title>Manipulation des images</title>
  </head>
  
  <body>
    <header>
      <h1>AMPOULE MAGIQUE</h1>
    </header>
    <main>
      <div>
      <img src="./ressources/ampoule.png" alt="ampoule">
      <img src="./ressources/lumiere.png" alt="lumiere">
      </div>
      <strong>Cliquez sur l'ampoule pour <span>l'allumer</span> (intensité : 
      <input type="number" value="0.4" step="0.1" min="0.1" max="1" placeholder="intensité">).</strong>
    </main>
  </body>
  
  <script>
    var isOn=false;
    document.querySelector('img[alt="lumiere"]').onclick=function() {
      
      if (!isOn) 
      {
        document.querySelector('img[alt="lumiere"]').style.opacity=document.querySelector('input[type="number"]').value;
        isOn=true;
        document.querySelector('span').innerHTML='l\'éteindre';
      } 
      else if (isOn) {
        document.querySelector('img[alt="lumiere"]').style.opacity=0;
        isOn=false;
        document.querySelector('span').innerHTML='l\'allumer';
      }
    }
    
    document.querySelector('input[type="number"]').onmouseup=function() {
      
       if (isOn) {
         document.querySelector('img[alt="lumiere"]').style.opacity=document.querySelector('input[type="number"]').value;
       }
    }
  </script>
</html>